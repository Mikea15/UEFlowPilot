---
title: UFlowPilotTask
description: Reference page for UFlowPilotTask class
---

import Ref from '../../../components/Ref.astro'

import { Image } from 'astro:assets';
import schema from '../../../assets/uflowpilottask_executionflow.png';

<Ref c="UFlowPilotTask" p="UObject" />

### Description

<Image src={schema} alt="UFlowPilotTask Schema" />

`UFlowPilotTask` is the base class for all Tasks that can run in FlowPilot.

The schema above shows succintely how it works.

Each Tasks starts its execution by calling their `Enter()` methods. They can either succeed or fail at this stage.
Upon failing, the task ends. If succeeded, `Tick` is then called and we check the Task Result ( InProgress, Succeeded, Failed, Error ).
If the Task returns `Succeeded` the `Exit()` method is called.

Tasks can also be cancelled, and end directly.

Each class that can be implemented need to override a couple of virtual methods exposed by this task, either in Cpp or implementing the Blueprint versions when creating a `UFlowPilotTask` via blueprint.

### Interface

```cpp
// UFlowPilotTask
// Setups Tasks. Called once per FlowPilotExecution, even after restarts.
virtual void Setup(FFlowContext* InContext);
// Called when starting this Task. Returns true on success
virtual bool Enter();
// Called on Tick. Will success automatically if not implemented by Child classes
virtual EFPTaskResult Tick(float DeltaTime);
// Called when Tick returns Succeeds
virtual void Exit();
// Resets all Tasks into their Setup States
virtual void Reset();

#if WITH_EDITOR
// Returns true if valid. Child Tasks should implement their Validations
virtual bool IsTaskDataValid(FDataValidationContext& InContext) { return true; }
#endif

#if !UE_BUILD_SHIPPING && !UE_BUILD_TEST
// Gathers information to display to debug view about Task.
virtual void GetRuntimeDescription(TArray<FString>& OutLines) const {};
#endif
//~UFlowPilotTask
```

## Class Info
__Parent Class:__ `UObject`

### Properties

| Property | Description |
| :--- | :--- |
| `FName TaskName = {};` |  |
| `FName Description = {};` |  |
| `uint8 bEnabled: 1;` | If False, Will skip this Task's execution |
| `UFlowPilotTask* Parent = nullptr;` |  |

### Functions

#### `UFlowPilotTask` 

```cpp
UFlowPilotTask();
```

#### `Setup` 
Setups Tasks. Called once per FlowPilotExecution, even after restarts.
```cpp
virtual void Setup(FFlowContext* InContext);
```

#### `Enter` 
Called when starting this Task. Returns true on success
```cpp
virtual bool Enter();
```

#### `Tick` 
Called on Tick. Will success automatically if not implemented by Child classes
```cpp
virtual EFPTaskResult Tick(float DeltaTime);
```

#### `Exit` 
Called when Task Finished
```cpp
virtual void Exit(EFPTaskResult TaskResult);
```

#### `Reset` 
Resets all Tasks into their Setup States
```cpp
virtual void Reset();
```

#### `HasParent` 
Disabled Tasks are skipped during execution
Enables or Disables Task. Disabled Tasks will be skipped.
Returns Task Name
Sets Task Name
Get Task Description
Returns True if Task has Parent Task.
Returns False if Task is Root Sequence Task
```cpp
bool HasParent() const;
```

#### `GetParent` 
Returns Parent Task or nullptr
```cpp
UFlowPilotTask* GetParent() const;
```

#### `IsParent` 
Sets Parent Task
Returns True if This task is a FlowPilotParent Task containing children Tasks.
```cpp
bool IsParent() const;
```

#### `GetAsParent` 
Returns this Cast to FlowPilotParent task.
```cpp
UFlowPilotParent* GetAsParent();
```

#### `HasStarted` 
Returns true when Task Started
```cpp
UFUNCTION(BlueprintCallable, Category="FlowPilotTask")
bool HasStarted() const;
```

#### `IsActive` 
Returns true when Task in Progress and Not Complete
```cpp
UFUNCTION(BlueprintCallable, Category="FlowPilotTask")
bool IsActive() const;
```

#### `IsComplete` 
Returns true when Task is Complete
```cpp
UFUNCTION(BlueprintCallable, Category="FlowPilotTask")
bool IsComplete() const;
```

#### `ForEachActor` 
Executes 'InFunc' to all Actors found from 'ActorReference'
```cpp
bool ForEachActor(const FFlowActorReference& ActorReference, TFunctionRef<bool(AActor* const /*Actor*/)> InFunc) const;
```

#### `ForEachConstActor` 
Executes 'InFunc' to all const Actors found from 'ActorReference'
Const means the function should not modify 'Actors'
```cpp
bool ForEachConstActor(const FFlowActorReference& ActorReference, TFunctionRef<bool(const AActor* const /*Actor*/)> InFunc) const;
```

#### `GetFlowPilotComponent` 
Returns FlowPilotComponent
```cpp
UFUNCTION(BlueprintCallable, Category = "FlowPilotTask")
UFlowPilotComponent* GetFlowPilotComponent() const;
```

#### `GetFlowPilotOwnerActor` 
Returns FlowPilotComponent Owner Actor
```cpp
UFUNCTION(BlueprintCallable, Category = "FlowPilotTask")
AActor* GetFlowPilotOwnerActor() const;
```

#### `GetWorldContext` 
Returns FlowPilot Actor World
```cpp
UFUNCTION(BlueprintCallable, Category = "FlowPilotTask")
UWorld* GetWorldContext() const;
```

#### `GetWorld` 

```cpp
virtual UWorld* GetWorld() const override;
```

